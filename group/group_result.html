<!DOCTYPE html>
  <html lang="ar" dir="rtl">
    <head>
        <meta charset="utf-8">
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="../css/materialize.min.css"  media="screen,projection"/>
       <!--our style.css-->
      <link type="text/css" rel="stylesheet" href="../css/style.css"  media="screen,projection"/>
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <body>
        <header>
        <nav role="navigation">
            <div class="nav-wrapper container">
                 <a id="logo-container" href="/" class="brand-logo center">تطبيق تحدي</a>
            </div>
          </nav>  <!--  -->
        </header>
       <!--============================================================================================-->
       <main style="margin-top: 20px;">
      <div class="container">
        <div class="row">
          <h5 id="g_name" class="center"> </h5>
          <p id="g_topic" class="center"> </p>
       <table class="striped"   id="my-table-id"   >
        
         <tbody>
  <tr>
          <th>#</th>
          <th>الاسم</th>
          <th>الدرجة</th>
        </tr>
         </tbody>
       </table>
  
          <div class="row  center-align"><br/><br/>
             
             <a class="waves-effect waves-light btn  btn-large" style="width: 40%" href="../index.html">رجوع للقائمة  <i class="material-icons">undo</i>
             </a>
          </div>
        </div>
      </div>
        



      </main>
      <!--============================================================================================-->
        <footer class="page-footer">
          <div class="container">
            <div class="row">
                <h5 class="white-text">تطبيق تحدي</h5>
                <p class="grey-text text-lighten-4">
                     عن تطبيق تحدي عن تطبيق تحدي عن تطبيق تحديعن تطبيق تحدي.</p>
            </div>
          </div> 
          <div class="footer-copyright">
            <div class="container">Made by <a href="">Me </a></div>
          </div>
        </footer>
      
        <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script src="../js/materialize.min.js"></script>
      
       <!--  <script src="js/bundle.js"></script> -->
       <script>
                
        jQuery(document).ready(function(){
        let id= parseURLParams(window.location.href).id;
        //alert(id);
          var myTableBody = $('#my-table-id tbody');
          $.ajax({
            method : 'GET',
            url:'       http://localhost/tahaddy_dash/public/show_g_result?id='+id,
            dataType: 'json',
            success:function newQuestion(result){ 
             //result.length);
              $("#g_name").text(result[0].group_name);
              $("#g_topic").text(result[0].topic);
              c=1;
              result.forEach(function(resultRow){
          var tableRow = `<tr>
                            <td>
                             ${c++}
                            </td>
                            <td>
                              ${resultRow.std_name}
                            </td>
                            <td>
                              ${resultRow.result}%
                            </td>
                            
                           </tr>`;

           myTableBody
             .append(tableRow);
       });
              //alert(data[0].std_name +"result:"+ data[0].result);
            }
          });
        });
//////////////////////////////////////////////////////////
   function parseURLParams(url) {
    var queryStart = url.indexOf("?") + 1,
        queryEnd   = url.indexOf("#") + 1 || url.length + 1,
        query = url.slice(queryStart, queryEnd - 1),
        pairs = query.replace(/\+/g, " ").split("&"),
        parms = {}, i, n, v, nv;

    if (query === url || query === "") return;

    for (i = 0; i < pairs.length; i++) {
        nv = pairs[i].split("=", 2);
        n = decodeURIComponent(nv[0]);
        v = decodeURIComponent(nv[1]);

        if (!parms.hasOwnProperty(n)) parms[n] = [];
        parms[n].push(nv.length === 2 ? v : null);
    }
    return parms;
}
</script>
 
      </body>
      
  </html>